<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <title>Daftar Tugas Saya</title>
</head>
<body>
    <div class="container mt-5">
        <h1>Daftar Tugas Saya</h1>
        <p>Ini adalah halaman daftar tugas saya.</p>

        <hr>

        <h3>Tambah Tugas Baru</h3>
        <form action="/todos-list/add" method="POST" class="form-inline mb-4">
            <div class="form-group mx-sm-3 mb-2">
                <label for="task" class="sr-only">Tugas Baru</label>
                <input type="text" class="form-control" name="task" placeholder="Tulis tugas baru" required>
            </div>
            <button type="submit" class="btn btn-primary mb-2">Tambah</button>
        </form>

        <hr>

        <h3>Daftar Tugas</h3>
        <% if (todos && todos.length > 0) { %>
        <ul class="list-group">
            <% todos.forEach(function(todo) { %>
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <span>ID: <%= todo.id %> - <%= todo.task %></span>

                <div class="d-flex">
                    <form action="/todos-list/edit/<%= todo.id %>?_method=PUT" method="POST" class="form-inline mr-2">
                        <input type="text" name="task" value="<%= todo.task %>" class="form-control form-control-sm mr-2" required>
                        <button type="submit" class="btn btn-warning btn-sm">Edit</button>
                    </form>

                    <form action="/todos-list/delete/<%= todo.id %>?_method=DELETE" method="POST">
                        <button type="submit" class="btn btn-danger btn-sm" onclick="return confirm('Apakah Anda yakin ingin menghapus tugas ini?')">Delete</button>
                    </form>
                </div>
            </li>
            <% }); %>
        </ul>
        <% } else { %>
        <p>Tidak ada tugas yang tersedia.</p>
        <% } %>

        <a href="/" class="btn btn-secondary mt-4">Go to Home</a>
    </div>
</body>
</html>